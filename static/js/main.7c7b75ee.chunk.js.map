{"version":3,"sources":["IncidentManager.js","index.js"],"names":["IncidentManager","props","dataSiteUrl","useState","companies","setCompanies","company","group","setGroup","groupID","setGroupID","org","setOrg","serviceIDs","setServiceIDs","groups","setGroups","services","setServices","priorities","label","value","selectedPriorities","setSelectedPriorities","WorkLog","rowDetailData","setRowDetailData","show4HrContainmentView","setShow4HrContainmentView","showAgeKpi","setShowAgeKpi","ageKpiBtnCss","setAgeKpiBtnCss","ageKpiArrowColor","setAgeKpiArrowColor","ageKpiOptionsCss","setAgeKpiOptionsCss","kpiDateField","setKpiDateField","greenMaxAge","setGreenMaxAge","yellowMaxAge","setYellowMaxAge","redMaxAge","setRedMaxAge","dateFields","name","title","columns","setColumns","rows","setRows","React","useEffect","getGroups","getIncidents","length","filter","x","getServices","getCompanies","getCellValue","getKpi","concat","forEach","column","setCompanyID","data","_color","grey","Age_KPI","indexOf","green","yellow","red","_text","_age","parseInt","Age_In_Minutes","_greenMaxAge","_yellowMaxAge","_redMaxAge","ex","sx","color","getKpiParams","dateFormatter","epoch","Intl","DateTimeFormat","year","month","day","format","DateTypeProvider","formatterComponent","fetch","headers","Accept","then","response","json","map","myJson","onShowAgeKpiClick","class","onChange","val","options","option","obj","split","getOptionLabel","getOptionValue","service","some","isMulti","priority","style","paddingTop","type","checked","for","onClick","event","stopPropagation","fontSize","tf","defaultCurrentPage","pageSize","defaultSorting","columnName","direction","defaultValue","defaultHiddenColumnNames","showSortingControls","contentComponent","row","Incident_Number","Description","PriorityCode","Detailed_Decription","First_Name","Last_Name","Department","StatusCode","Assigned_Group","item","i","Work_Log_Submit_Date","Work_Log_Submitter","Detailed_Description","rootElement","document","getElementById","ReactDOM","render","href"],"mappings":"8SA8Be,SAASA,EAAgBC,GACtC,IAAMC,EAAc,QAEpB,EAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAsCF,mBAAS,MAA/C,mBAAOG,EAAP,KACA,GADA,KAC0BH,mBAAS,OAAnC,mBAAOI,EAAP,KAAcC,EAAd,KACA,EAA8BL,mBAAS,MAAvC,mBAAOM,EAAP,KAAgBC,EAAhB,KACA,EAAsBP,mBAAS,MAA/B,mBAAOQ,EAAP,KAAYC,EAAZ,KACA,EAAoCT,mBAAS,IAA7C,mBAAOU,EAAP,KAAmBC,EAAnB,KACA,EAA4BX,mBAAS,IAArC,mBAAOY,EAAP,KAAeC,EAAf,KACA,EAAgCb,mBAAS,IAAzC,mBAAOc,EAAP,KAAiBC,EAAjB,KACMC,EAAa,CACjB,CAAEC,MAAO,MAAOC,MAAO,KACvB,CAAED,MAAO,SAAUC,MAAO,KAC1B,CAAED,MAAO,OAAQC,MAAO,KACxB,CAAED,MAAO,WAAYC,MAAO,MAE9B,EAAoDlB,mBAAS,CAC3D,CAAEiB,MAAO,MAAOC,MAAO,KACvB,CAAED,MAAO,SAAUC,MAAO,KAC1B,CAAED,MAAO,OAAQC,MAAO,KACxB,CAAED,MAAO,WAAYC,MAAO,OAJ9B,mBAAOC,EAAP,KAA2BC,EAA3B,KAMA,EAA0CpB,mBAAS,CAAEqB,QAAS,KAA9D,oBAAOC,GAAP,MAAsBC,GAAtB,MAEA,GAA4DvB,oBAAS,GAArE,qBAAOwB,GAAP,MAA+BC,GAA/B,MACA,GAAoCzB,oBAAS,GAA7C,qBAAO0B,GAAP,MAAmBC,GAAnB,MACA,GAAwC3B,mBAAS,YAAjD,qBAAO4B,GAAP,MAAqBC,GAArB,MACA,GAAgD7B,mBAAS,YAAzD,qBAAO8B,GAAP,MAAyBC,GAAzB,MACA,GAAgD/B,mBAAS,YAAzD,qBAAOgC,GAAP,MAAyBC,GAAzB,MACA,GAAwCjC,mBAAS,eAAjD,qBAAOkC,GAAP,MAAqBC,GAArB,MACA,GAAsCnC,mBAAS,IAA/C,qBAAOoC,GAAP,MAAoBC,GAApB,MACA,GAAwCrC,mBAAS,KAAjD,qBAAOsC,GAAP,MAAqBC,GAArB,MACA,GAAkCvC,mBAAS,KAA3C,qBAAOwC,GAAP,MAAkBC,GAAlB,MAEMC,GAAa,CACjB,CAAEzB,MAAO,cAAeC,MAAO,eAC/B,CAAED,MAAO,gBAAiBC,MAAO,sBACjC,CAAED,MAAO,gBAAiBC,MAAO,sBACjC,CAAED,MAAO,gBAAiBC,MAAO,iBACjC,CAAED,MAAO,iBAAkBC,MAAO,kBAClC,CAAED,MAAO,cAAeC,MAAO,eAC/B,CAAED,MAAO,aAAcC,MAAO,cAC9B,CAAED,MAAO,sBAAuBC,MAAO,gCACvC,CAAED,MAAO,uBAAwBC,MAAO,6BACxC,CAAED,MAAO,uBAAwBC,MAAO,6BACxC,CAAED,MAAO,wBAAyBC,MAAO,yBACzC,CAAED,MAAO,qBAAsBC,MAAO,sBACtC,CAAED,MAAO,sBAAuBC,MAAO,yBACvC,CAAED,MAAO,oBAAqBC,MAAO,wBAGvC,GAA8BlB,mBAAS,CACrC,CAAE2C,KAAM,iBAAkBC,MAAO,kBACjC,CAAED,KAAM,kBAAmBC,MAAO,mBAClC,CAAED,KAAM,eAAgBC,MAAO,YAC/B,CAAED,KAAM,cAAeC,MAAO,WAC9B,CAAED,KAAM,cAAeC,MAAO,aAC9B,CAAED,KAAM,qBAAsBC,MAAO,YACrC,CAAED,KAAM,yBAA0BC,MAAO,iBACzC,CAAED,KAAM,WAAYC,MAAO,YAC3B,CAAED,KAAM,YAAaC,MAAO,aAC5B,CAAED,KAAM,aAAcC,MAAO,UAC7B,CAAED,KAAM,UAAWC,MAAO,oBAX5B,qBAAOC,GAAP,MAAgBC,GAAhB,MAcA,GAAwB9C,mBAAS,IAAjC,qBAAO+C,GAAP,MAAaC,GAAb,MAEAC,IAAMC,WAAU,WACV/C,GACFgD,KAEEhD,GACFiD,KAK8B,IAA9BjC,EAAmBkC,QAC6C,IAAhElC,EAAmBmC,QAAO,SAACC,GAAD,MAAmB,SAAZA,EAAEtC,SAAkBoC,QACe,IAApElC,EAAmBmC,QAAO,SAACC,GAAD,MAAmB,aAAZA,EAAEtC,SAAsBoC,QAEzD5B,IAA0B,KAE3B,CAACtB,EAASG,EAASI,EAAYS,IAElC8B,IAAMC,WAAU,WACdM,OACC,CAACrD,EAASG,EAASa,IAEtB8B,IAAMC,WAAU,WACdO,OACC,IAEHR,IAAMC,WAAU,WAEdJ,GAAWD,GAAQS,QAAO,SAACC,GAAD,MAAmB,QAAZA,EAAEX,UAE/BlB,GAEFoB,GAAW,CAAC,CAAEY,aAAcC,GAAQf,MAAO,QAASgB,OAAOf,KACtDpB,IAA0B,KAChC,CAACC,KAEJuB,IAAMC,WAAU,WAES,aAArBlB,IACkB,gBAAjBE,IACiB,KAAhBE,IACiB,MAAjBE,IACc,MAAdE,IAEFf,IAA0B,KAE3B,CAACO,KAEJiB,IAAMC,WAAU,WAGV1B,IACFJ,EAAsB,CACpB,CAAEH,MAAO,OAAQC,MAAO,KACxB,CAAED,MAAO,WAAYC,MAAO,OAE9BiB,GAAgB,cAChBE,GAAe,IACfE,GAAgB,KAChBE,GAAa,KACbd,IAAc,GAEdkB,GACGS,QAAO,SAACC,GAAD,MAAmB,cAAZA,EAAEX,SAChBiB,SAAQ,SAACC,GACRA,EAAOlB,MAAQ,kBACfkB,EAAOnB,KAAOT,MAIlB6B,aAAa,OACb1D,EAAS,OACTE,EAAW,QAIXsC,GACGS,QAAO,SAACC,GAAD,MAAmB,oBAAZA,EAAEX,SAChBiB,SAAQ,SAACC,GACRA,EAAOlB,MAAQ,YACfkB,EAAOnB,KAAO,mBAGnB,CAACnB,KAEJ,IAAMmC,GAAS,SAACK,GACd,IAAIC,EAASC,IAAK,MACyB,IAAvCF,EAAKG,QAAQC,QAAQ,aAAqBH,EAASI,IAAM,MACZ,IAAxCL,EAAKG,QAAQC,QAAQ,cAAsBH,EAASK,IAAO,MACtB,IAArCN,EAAKG,QAAQC,QAAQ,aAAmBH,EAASM,IAAI,MAE9D,IAAIC,EAAQ,GAEZ,IACE,IAAIC,EAAOC,SAASV,EAAKW,gBACrBC,EAAeF,SAAStC,IACxByC,EAAgBH,SAASpC,IACzBwC,EAAaJ,SAASlC,IAGxBgC,EADEC,EAAOK,EACD,YACCL,EAAOI,EACR,IAAMC,EAAaL,EAClBA,GAAQG,EACT,IAAMA,EAAeH,EAErB,IAAMI,EAAgBJ,EAEhC,MAAOM,IAET,OACE,gCACE,cAAC,IAAD,CAAQC,GAAI,CAAEC,MAAOhB,KADvB,IACqCO,MAKnCU,GAAe,WACnB,MAAM,oBAAN,OAA2BhD,GAA3B,2BAxJmB,+BAwJnB,0BAAwFE,GAAxF,2BAAsHE,GAAtH,wBAAkJE,KAG9I2C,GAAgB,SAACC,GAMrB,OALW,IAAIC,KAAKC,eAAe,QAAS,CAC1CC,KAAM,UACNC,MAAO,UACPC,IAAK,YACJC,OAAON,EAAMlE,QAIZyE,GAAmB,SAAC7F,GAAD,OACvB,cAAC,IAAD,aAAkB8F,mBAAoBT,IAAmBrF,KAGrD2D,GAAe,WACnBoC,MAAM,GAAD,OAAI9F,EAAJ,sCAAqD,CACxD+F,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAGTC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUE,GACdhG,EAAa,CAAC,CAAEe,MAAO,MAAOC,MAAO,QAAS0C,OAAOsC,EAAKlC,WAI1Db,GAAY,WAChB0C,MAAM,GAAD,OAAI9F,EAAJ,kDAAyDI,GAAW,CACvE2F,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAGTC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUE,GACdrF,EAAU,CAAC,CAAEI,MAAO,MAAOC,MAAO,QAAS0C,OAAOsC,EAAKlC,WAIvDR,GAAc,WACdhC,IACFT,EAAY,CAAC,CAAEE,MAAO,gBAAiBC,MAAO,mBAC9CP,EAAc,CAAC,CAAEM,MAAO,gBAAiBC,MAAO,oBAEhD2E,MAAM,GAAD,OACA9F,EADA,oDACuDI,EADvD,gBACsEK,EADtE,oBACqFF,EADrF,uBAC2GU,EAAWmF,KACvH,SAAC5C,GAAD,OAAOA,EAAErC,SAFR,8BAGoBgE,MACvB,CACEY,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAIXC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUI,GACdrF,EAAYqF,EAAOpC,UAKrBZ,GAAe,WACnByC,MAAM,GAAD,OACA9F,EADA,sDACyDI,EADzD,gBACwEK,EADxE,oBACuFF,EADvF,uBAC6GU,EAAWmF,KACzH,SAAC5C,GAAD,OAAOA,EAAErC,SAFR,qBAGWJ,EAASqF,KACrB,SAAC5C,GAAD,OAAOA,EAAErC,SAJR,8BAKoBgE,MACvB,CACEY,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAIXC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUI,GACdpD,GAAQoD,EAAOpC,UA+BfqC,GAAoB,WACpB3E,KACFO,GACuB,YAArBD,GAAiC,WAAa,WAEhDH,GAAqC,YAArBG,GAAiC,SAAW,cAsEhE,OACE,gCACE,qBAAKsE,MAAM,mBAAX,SACE,iCACE,wBAAOA,MAAM,eAAb,qBAEE,cAAC,IAAD,CACEC,SA7GY,SAACC,GACvBjG,EAAW,MACXI,EAAc,IACdoD,aAAayC,EAAItF,QA2GPuF,QAASxG,EACTiB,MAAOjB,EAAUqD,QAAO,SAAUoD,GAChC,OAAOA,EAAOxF,QAAUf,UAI9B,2CAEE,cAAC,IAAD,CACEe,MAAON,EAAO0C,QAAO,SAAUoD,GAC7B,OAAOA,EAAOxF,QAAUd,KAE1BmG,SApHU,SAACI,GACrBtG,EAASsG,EAAIzF,QACmB,IAA5ByF,EAAIzF,MAAMkD,QAAQ,OACpB3D,EAAOkG,EAAIzF,MAAM0F,MAAM,KAAK,IAC5BrG,EAAWoG,EAAIzF,MAAM0F,MAAM,KAAK,MAiHxBH,QAAS7F,EACTiG,eAAgB,SAACtD,GAAD,OAAOA,EAAEtC,OACzB6F,eAAgB,SAACvD,GAAD,OAAOA,EAAErC,YAG7B,8CAEE,cAAC,IAAD,CACEA,MAAOJ,EAASwC,QAAO,SAAUyD,GAC/B,OAAOrG,EAAWsG,MAAK,SAACzD,GAAD,OAAOwD,EAAQ7F,QAAUqC,EAAErC,YAEpDqF,SAAU,SAACC,GACT/E,IAA0B,GAC1Bd,GAAc,SAACD,GACb,OAAO8F,MAGXC,QAAS3F,EACTmG,SAAO,OAIX,gDAEE,cAAC,IAAD,CACE/F,MAAOF,EAAWsC,QAAO,SAAU4D,GACjC,OAAO/F,EAAmB6F,MACxB,SAACzD,GAAD,OAAO2D,EAAShG,QAAUqC,EAAErC,YAGhCqF,SAAU,SAACC,GACTpF,GAAsB,SAACD,GACrB,OAAOqF,MAGXC,QAASzF,EACTsF,MAAM,mBACNW,SAAO,OAGX,sBAAKE,MAAO,CAAEC,WAAY,IAA1B,UACE,gCACE,sBAAKd,MAAM,yBAAX,UACE,uBACEA,MAAM,mBACNe,KAAK,WACLC,QAAS9F,GACT+E,SAAU,kBACR9E,IAA2BD,OAG/B,uBAAO8E,MAAM,mBAAmBiB,IAAI,yBAApC,4CAMJ,gCACE,sBAAKjB,MAAM,yBAAX,UACE,uBACEA,MAAM,mBACNe,KAAK,WACLC,QAAS5F,GACT6E,SA5KW,SAACC,GAC1B7E,IAAeD,IACVA,IAKHK,GAAoB,YACpBF,GAAgB,YAChBI,GAAoB,cANpBF,GAAoB,WACpBF,GAAgB,cA0KN,wBACE2F,QAASnB,GACTC,MAAO,gCAAkC1E,GACzC2F,IAAI,yBAHN,gCAME,cAAC,IAAD,CAAmBtC,MAAOnD,KAC1B,sBACE0F,QAAS,SAACC,GAAD,OAAWA,EAAMC,mBAC1BpB,MAAO,mBAAqBtE,GAF9B,UAIE,sBAAMsE,MAAM,aAAakB,QAASnB,GAAlC,SACE,cAAC,IAAD,CAAWsB,SAAS,YAEtB,sBAAKrB,MAAM,eAAX,2BAEE,gCACE,cAAC,IAAD,CACEC,SAAU,SAACC,GAAD,OAASrE,GAAgBqE,EAAItF,QACvCuF,QAAS/D,GACTxB,MAAOwB,GAAWY,QAAO,SAAUoD,GACjC,OAAOA,EAAOxF,QAAUgB,UAI9B,uBAXF,qBAaE,gCACE,uBACEhB,MAAOkB,GACPmE,SAAU,SAACqB,GAAD,OAAQvF,GAAeuF,EAAG1G,QACpCmG,KAAK,OACLf,MAAM,mBAGV,uBArBF,sBAuBE,gCACE,uBACEpF,MAAOoB,GACPiE,SAAU,SAACqB,GAAD,OAAQrF,GAAgBqF,EAAG1G,QACrCmG,KAAK,OACLf,MAAM,mBAGV,uBA/BF,mBAiCE,gCACE,uBACEpF,MAAOsB,GACP+D,SAAU,SAACqB,GAAD,OAAQnF,GAAamF,EAAG1G,QAClCmG,KAAK,OACLf,MAAM,sBAIZ,sBAAMA,MAAM,SAAZ,6CAQd,qBAAKA,MAAM,OAAX,SACE,eAAC,IAAD,CAAMvD,KAAMA,GAAMF,QAASA,GAA3B,UACE,cAAC,IAAD,CAAagF,mBAAoB,EAAGC,SAAU,KAC9C,cAAC,IAAD,IACA,cAAC,IAAD,CACEC,eAAgB,CAAC,CAAEC,WAAY,OAAQC,UAAW,UAEpD,cAAC,IAAD,IACA,cAAC,IAAD,IACA,cAAC,IAAD,CAAaC,aAAa,KAC1B,cAAC,IAAD,IACA,cAACvC,GAAD,CAAkB4B,IAAK7E,GAAWyD,KAAI,SAAC5C,GAAD,OAAOA,EAAErC,WAC/C,cAAC,IAAD,IACA,cAAC,IAAD,CACEiH,yBAA0B,CAAC,oBAE7B,cAAC,IAAD,CAAgBC,qBAAmB,IACnC,cAAC,IAAD,IACA,cAAC,IAAD,CAAgBC,iBA1ON,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAcnB,OAbAzC,MAAM,GAAD,OAAI9F,EAAJ,wCAA+CuI,EAAIC,iBAAmB,CACzEzC,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAGTC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUE,GACd3E,GAAiB2E,EAAKlC,SAIxB,gCACE,sBAAKsC,MAAM,eAAX,UACE,8CACA,uBACChF,GAAckH,eAEjB,sBAAKlC,MAAM,eAAX,UACE,+CACA,uBACChF,GAAcmH,gBAEjB,sBAAKnC,MAAM,eAAX,UACE,4CACA,uBACChF,GAAcoH,uBAEjB,sBAAKpC,MAAM,eAAX,UACE,sDACA,uBACChF,GAAcqH,WAHjB,IAG8BrH,GAAcsH,UAH5C,KAGyD,IACtDtH,GAAcuH,cAEjB,sBAAKvC,MAAM,eAAX,UACE,6CACA,uBACChF,GAAcwH,cAEjB,sBAAKxC,MAAM,eAAX,UACE,qDACA,uBACChF,GAAcyH,kBAEjB,sBAAKzC,MAAM,eAAX,UACE,kDACA,uBACChF,GAAcD,QAAQ8E,KAAI,SAAU6C,EAAMC,GACzC,OACE,gCACE,sBAAK3C,MAAM,iBAAX,UACGnB,GAAc6D,EAAKE,sBADtB,KAC+C,IAC5CF,EAAKG,sBAER,qBAAK7C,MAAM,eAAX,SAA2B0C,EAAKI,8C,WC5Y1CC,EAAcC,SAASC,eAAe,QAE5CC,IAASC,OACP,gCACE,qBAAKnD,MAAM,wBAAX,SACE,qBAAKA,MAAM,kBAAX,SACE,mBAAGA,MAAM,eAAeoD,KAAK,IAA7B,kCAKJ,cAAC7J,EAAD,OAEFwJ,K","file":"static/js/main.7c7b75ee.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Select from \"react-select\";\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Circle from \"@mui/icons-material/Circle\";\nimport { grey, red, green, yellow } from \"@mui/material/colors\";\n\nimport {\n  SortingState,\n  IntegratedSorting,\n  SearchState,\n  IntegratedFiltering,\n  RowDetailState,\n  DataTypeProvider,\n  PagingState,\n  IntegratedPaging\n} from \"@devexpress/dx-react-grid\";\nimport {\n  Grid,\n  Table,\n  Toolbar,\n  SearchPanel,\n  TableHeaderRow,\n  TableRowDetail,\n  TableColumnVisibility,\n  PagingPanel\n} from \"@devexpress/dx-react-grid-material-ui\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nexport default function IncidentManager(props) {\n  const dataSiteUrl = \"data/\";\n\n  const [companies, setCompanies] = useState([]);\n  const [company, setSelectedCompany] = useState(null);\n  const [group, setGroup] = useState(null);\n  const [groupID, setGroupID] = useState(null);\n  const [org, setOrg] = useState(null);\n  const [serviceIDs, setServiceIDs] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [services, setServices] = useState([]);\n  const priorities = [\n    { label: \"Low\", value: \"3\" },\n    { label: \"Medium\", value: \"2\" },\n    { label: \"High\", value: \"1\" },\n    { label: \"Critical\", value: \"0\" }\n  ];\n  const [selectedPriorities, setSelectedPriorities] = useState([\n    { label: \"Low\", value: \"3\" },\n    { label: \"Medium\", value: \"2\" },\n    { label: \"High\", value: \"1\" },\n    { label: \"Critical\", value: \"0\" }\n  ]);\n  const [rowDetailData, setRowDetailData] = useState({ WorkLog: [] });\n\n  const [show4HrContainmentView, setShow4HrContainmentView] = useState(false);\n  const [showAgeKpi, setShowAgeKpi] = useState(false);\n  const [ageKpiBtnCss, setAgeKpiBtnCss] = useState(\"disabled\");\n  const [ageKpiArrowColor, setAgeKpiArrowColor] = useState(\"disabled\");\n  const [ageKpiOptionsCss, setAgeKpiOptionsCss] = useState(\"disabled\");\n  const [kpiDateField, setKpiDateField] = useState(\"Submit_Date\");\n  const [greenMaxAge, setGreenMaxAge] = useState(90);\n  const [yellowMaxAge, setYellowMaxAge] = useState(180);\n  const [redMaxAge, setRedMaxAge] = useState(240);\n  const dropOffField = \"Required_Resolution_DateTime\";\n  const dateFields = [\n    { label: \"Submit Date\", value: \"Submit_Date\" },\n    { label: \"Last Modified\", value: \"Last_Modified_Date\" },\n    { label: \"Last Resolved\", value: \"Last_Resolved_Date\" },\n    { label: \"Reported Date\", value: \"Reported_Date\" },\n    { label: \"Responded Date\", value: \"Responded_Date\" },\n    { label: \"Closed Date\", value: \"Closed_Date\" },\n    { label: \"Event Date\", value: \"Event_Date\" },\n    { label: \"Required Resolution\", value: \"Required_Resolution_DateTime\" },\n    { label: \"Estimated Resolution\", value: \"Estimated_Resolution_Date\" },\n    { label: \"Acknowledgement Date\", value: \"Acknowledgment_Start_Date\" },\n    { label: \"Resolution Start Date\", value: \"Resolution_Start_Date\" },\n    { label: \"Last SLA Hold Date\", value: \"Last_SLA_Hold_Date\" },\n    { label: \"VIP Assignment Date\", value: \"VIPAssignmentDateTime\" },\n    { label: \"VIP Dispatch Date\", value: \"VIPDispatchDateTime\" }\n  ];\n\n  const [columns, setColumns] = useState([\n    { name: \"Age_In_Minutes\", title: \"Age_In_Minutes\" },\n    { name: \"Incident_Number\", title: \"Incident Number\" },\n    { name: \"PriorityCode\", title: \"Priority\" },\n    { name: \"Description\", title: \"Summary\" },\n    { name: \"Submit_Date\", title: \"Submitted\" },\n    { name: \"Last_Modified_Date\", title: \"Modified\" },\n    { name: \"Assigned_Company_Group\", title: \"Company/Group\" },\n    { name: \"Assignee\", title: \"Assignee\" },\n    { name: \"ServiceCI\", title: \"ServiceCI\" },\n    { name: \"StatusCode\", title: \"Status\" },\n    { name: \"LastLog\", title: \"Last Log Entry\" }\n  ]);\n\n  const [rows, setRows] = useState([]);\n\n  React.useEffect(() => {\n    if (company) {\n      getGroups();\n    }\n    if (company) {\n      getIncidents();\n    }\n\n    // check if 24 hr containment is still toggled\n    if (\n      selectedPriorities.length !== 2 ||\n      selectedPriorities.filter((x) => x.label === \"High\").length !== 1 ||\n      selectedPriorities.filter((x) => x.label === \"Critical\").length !== 1\n    ) {\n      setShow4HrContainmentView(false);\n    }\n  }, [company, groupID, serviceIDs, selectedPriorities]);\n\n  React.useEffect(() => {\n    getServices();\n  }, [company, groupID, selectedPriorities]);\n\n  React.useEffect(() => {\n    getCompanies();\n  }, []);\n\n  React.useEffect(() => {\n    // remove\n    setColumns(columns.filter((x) => x.title !== \"Age\"));\n\n    if (showAgeKpi) {\n      // add column in grid\n      setColumns([{ getCellValue: getKpi, title: \"Age\" }].concat(columns)); // prepend to React State\n    } else setShow4HrContainmentView(false);\n  }, [showAgeKpi]);\n\n  React.useEffect(() => {\n    if (\n      ageKpiOptionsCss === \"disabled\" &&\n      (kpiDateField !== \"Submit_Date\" ||\n        greenMaxAge !== 90 ||\n        yellowMaxAge !== 180 ||\n        redMaxAge !== 240)\n    ) {\n      setShow4HrContainmentView(false);\n    }\n  }, [ageKpiOptionsCss]);\n\n  React.useEffect(() => {\n    // remove\n\n    if (show4HrContainmentView) {\n      setSelectedPriorities([\n        { label: \"High\", value: \"2\" },\n        { label: \"Critical\", value: \"3\" }\n      ]);\n      setKpiDateField(\"Event_Date\");\n      setGreenMaxAge(90);\n      setYellowMaxAge(180);\n      setRedMaxAge(240);\n      setShowAgeKpi(true);\n\n      columns\n        .filter((x) => x.title === \"Submitted\")\n        .forEach((column) => {\n          column.title = \"4-HR Start Date\";\n          column.name = kpiDateField;\n        });\n\n      // set service, company, group\n      setCompanyID(\"All\");\n      setGroup(\"All\");\n      setGroupID(\"All\");\n\n      //todo: highlight stuff blue\n    } else {\n      columns\n        .filter((x) => x.title === \"4-HR Start Date\")\n        .forEach((column) => {\n          column.title = \"Submitted\";\n          column.name = \"Submit_date\";\n        });\n    }\n  }, [show4HrContainmentView]);\n\n  const getKpi = (data) => {\n    let _color = grey[500];\n    if (data.Age_KPI.indexOf(\"green.gif\") !== -1) _color = green[500];\n    else if (data.Age_KPI.indexOf(\"yellow.gif\") !== -1) _color = yellow[500];\n    else if (data.Age_KPI.indexOf(\"red.gif\") !== -1) _color = red[500];\n\n    let _text = \"\";\n    let _age = 0;\n    try {\n      let _age = parseInt(data.Age_In_Minutes);\n      let _greenMaxAge = parseInt(greenMaxAge);\n      let _yellowMaxAge = parseInt(yellowMaxAge);\n      let _redMaxAge = parseInt(redMaxAge);\n\n      if (_age > _redMaxAge) {\n        _text = \"Exceeded!\";\n      } else if (_age > _yellowMaxAge) {\n        _text = \"-\" + _redMaxAge - _age;\n      } else if (_age <= _greenMaxAge) {\n        _text = \"-\" + _greenMaxAge - _age;\n      } else {\n        _text = \"-\" + _yellowMaxAge - _age;\n      }\n    } catch (ex) {}\n\n    return (\n      <div>\n        <Circle sx={{ color: _color }} /> {_text}\n      </div>\n    );\n  };\n\n  const getKpiParams = () => {\n    return `StartDateField%3D${kpiDateField},DropOffField%3D${dropOffField},GreenMaxAge%3D${greenMaxAge},YellowMaxAge%3D${yellowMaxAge},RedMaxAge%3D${redMaxAge}`;\n  };\n\n  const dateFormatter = (epoch) => {\n    let date = new Intl.DateTimeFormat(\"en-US\", {\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\"\n    }).format(epoch.value); // 01/11/2021\n    return date;\n  };\n\n  const DateTypeProvider = (props) => (\n    <DataTypeProvider formatterComponent={dateFormatter} {...props} />\n  );\n\n  const getCompanies = () => {\n    fetch(`${dataSiteUrl}companies.json?opCode=GetCompanies`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (json) {\n        setCompanies([{ label: \"All\", value: \"All\" }].concat(json.data));\n      });\n  };\n\n  const getGroups = () => {\n    fetch(`${dataSiteUrl}groups.json?opCode=GetGroups&CompanyID=${company}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (json) {\n        setGroups([{ label: \"All\", value: \"All\" }].concat(json.data));\n      });\n  };\n\n  const getServices = () => {\n    if (show4HrContainmentView) {\n      setServices([{ label: \"CyberSecurity\", value: \"CyberSecurity\" }]);\n      setServiceIDs([{ label: \"CyberSecurity\", value: \"CyberSecurity\" }]);\n    } else {\n      fetch(\n        `${dataSiteUrl}services.json?opCode=GetServices&Company=${company}&Org=${org}&GroupID=${groupID}&Priorities=${priorities.map(\n          (x) => x.value\n        )}&Filter=&KpiParams=${getKpiParams()}`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n          }\n        }\n      )\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (myJson) {\n          setServices(myJson.data);\n        });\n    }\n  };\n\n  const getIncidents = () => {\n    fetch(\n      `${dataSiteUrl}incidents.json?opCode=GetIncidents&Company=${company}&Org=${org}&GroupID=${groupID}&Priorities=${priorities.map(\n        (x) => x.value\n      )}&Services=${services.map(\n        (x) => x.value\n      )}&Filter=&KpiParams=${getKpiParams()}`,\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        }\n      }\n    )\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (myJson) {\n        setRows(myJson.data);\n      });\n  };\n\n  const onCompanyChange = (val) => {\n    setGroupID(null);\n    setServiceIDs([]);\n    setCompanyID(val.value);\n  };\n\n  const onGroupChange = (obj) => {\n    setGroup(obj.value);\n    if (obj.value.indexOf(\"|\") !== -1) {\n      setOrg(obj.value.split(\"|\")[0]);\n      setGroupID(obj.value.split(\"|\")[1]);\n    }\n  };\n\n  const onShowAgeKpiChange = (val) => {\n    setShowAgeKpi(!showAgeKpi);\n    if (!showAgeKpi) {\n      setAgeKpiArrowColor(\"primary\");\n      setAgeKpiBtnCss(\"active\");\n    } else {\n      // Style dropdown\n      setAgeKpiArrowColor(\"disabled\");\n      setAgeKpiBtnCss(\"disabled\");\n      setAgeKpiOptionsCss(\"disabled\");\n    }\n  };\n\n  const onShowAgeKpiClick = () => {\n    if (showAgeKpi) {\n      setAgeKpiOptionsCss(\n        ageKpiOptionsCss === \"enabled\" ? \"disabled\" : \"enabled\"\n      );\n      setAgeKpiBtnCss(ageKpiOptionsCss === \"enabled\" ? \"active\" : \"selected\");\n    }\n  };\n\n  const RowDetail = ({ row }) => {\n    fetch(`${dataSiteUrl}incident.json?IncidentNumber=${row.Incident_Number}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (json) {\n        setRowDetailData(json.data);\n      });\n\n    return (\n      <div>\n        <div class=\"detail-field\">\n          <strong>Summary:</strong>\n          <br />\n          {rowDetailData.Description}\n        </div>\n        <div class=\"detail-field\">\n          <strong>Priority:</strong>\n          <br />\n          {rowDetailData.PriorityCode}\n        </div>\n        <div class=\"detail-field\">\n          <strong>Notes:</strong>\n          <br />\n          {rowDetailData.Detailed_Decription}\n        </div>\n        <div class=\"detail-field\">\n          <strong>Customer/Office:</strong>\n          <br />\n          {rowDetailData.First_Name} {rowDetailData.Last_Name} /{\" \"}\n          {rowDetailData.Department}\n        </div>\n        <div class=\"detail-field\">\n          <strong>Status:</strong>\n          <br />\n          {rowDetailData.StatusCode}\n        </div>\n        <div class=\"detail-field\">\n          <strong>Assigned Group:</strong>\n          <br />\n          {rowDetailData.Assigned_Group}\n        </div>\n        <div class=\"detail-field\">\n          <strong>Log Entries:</strong>\n          <br />\n          {rowDetailData.WorkLog.map(function (item, i) {\n            return (\n              <div>\n                <div class=\"worklog-header\">\n                  {dateFormatter(item.Work_Log_Submit_Date)} /{\" \"}\n                  {item.Work_Log_Submitter}\n                </div>\n                <div class=\"worklog-body\">{item.Detailed_Description}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <div class=\"filter-container\">\n        <form>\n          <label class=\"label-nowrap\">\n            Company:\n            <Select\n              onChange={onCompanyChange}\n              options={companies}\n              value={companies.filter(function (option) {\n                return option.value === company;\n              })}\n            ></Select>\n          </label>\n          <label>\n            Group:\n            <Select\n              value={groups.filter(function (option) {\n                return option.value === group;\n              })}\n              onChange={onGroupChange}\n              options={groups}\n              getOptionLabel={(x) => x.label}\n              getOptionValue={(x) => x.value}\n            ></Select>\n          </label>\n          <label>\n            Services:\n            <Select\n              value={services.filter(function (service) {\n                return serviceIDs.some((x) => service.value === x.value);\n              })}\n              onChange={(val) => {\n                setShow4HrContainmentView(false);\n                setServiceIDs((serviceIDs) => {\n                  return val;\n                });\n              }}\n              options={services}\n              isMulti\n            ></Select>\n          </label>\n\n          <label>\n            Priorities:\n            <Select\n              value={priorities.filter(function (priority) {\n                return selectedPriorities.some(\n                  (x) => priority.value === x.value\n                );\n              })}\n              onChange={(val) => {\n                setSelectedPriorities((selectedPriorities) => {\n                  return val;\n                });\n              }}\n              options={priorities}\n              class=\"form-check-input\"\n              isMulti\n            ></Select>\n          </label>\n          <div style={{ paddingTop: 10 }}>\n            <label>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  checked={show4HrContainmentView}\n                  onChange={() =>\n                    setShow4HrContainmentView(!show4HrContainmentView)\n                  }\n                />\n                <label class=\"form-check-label\" for=\"flexSwitchCheckDefault\">\n                  Show 4HR-Containment View\n                </label>\n              </div>\n            </label>\n\n            <label>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  checked={showAgeKpi}\n                  onChange={onShowAgeKpiChange}\n                />\n                <label\n                  onClick={onShowAgeKpiClick}\n                  class={\"form-check-label age-kpi-btn-\" + ageKpiBtnCss}\n                  for=\"flexSwitchCheckDefault\"\n                >\n                  Show age indicators\n                  <ArrowDropDownIcon color={ageKpiArrowColor} />\n                  <div\n                    onClick={(event) => event.stopPropagation()}\n                    class={\"age-kpi-options-\" + ageKpiOptionsCss}\n                  >\n                    <span class=\"close-icon\" onClick={onShowAgeKpiClick}>\n                      <CloseIcon fontSize=\"small\" />\n                    </span>\n                    <div class=\"label-nowrap\">\n                      Age field:&nbsp;\n                      <label>\n                        <Select\n                          onChange={(val) => setKpiDateField(val.value)}\n                          options={dateFields}\n                          value={dateFields.filter(function (option) {\n                            return option.value === kpiDateField;\n                          })}\n                        ></Select>\n                      </label>\n                      <br />\n                      Green Max Age:&nbsp;\n                      <label>\n                        <input\n                          value={greenMaxAge}\n                          onChange={(tf) => setGreenMaxAge(tf.value)}\n                          type=\"text\"\n                          class=\"form-control\"\n                        />\n                      </label>\n                      <br />\n                      Yellow Max Age:&nbsp;\n                      <label>\n                        <input\n                          value={yellowMaxAge}\n                          onChange={(tf) => setYellowMaxAge(tf.value)}\n                          type=\"text\"\n                          class=\"form-control\"\n                        />\n                      </label>\n                      <br />\n                      Red Max Age:&nbsp;\n                      <label>\n                        <input\n                          value={redMaxAge}\n                          onChange={(tf) => setRedMaxAge(tf.value)}\n                          type=\"text\"\n                          class=\"form-control\"\n                        />\n                      </label>\n                    </div>\n                    <span class=\"footer\">* in minutes</span>\n                  </div>\n                </label>\n              </div>\n            </label>\n          </div>\n        </form>\n      </div>\n      <div class=\"grid\">\n        <Grid rows={rows} columns={columns}>\n          <PagingState defaultCurrentPage={0} pageSize={20} />\n          <IntegratedPaging />\n          <SortingState\n            defaultSorting={[{ columnName: \"Name\", direction: \"asc\" }]}\n          />\n          <IntegratedSorting />\n          <RowDetailState />\n          <SearchState defaultValue=\"\" />\n          <IntegratedFiltering />\n          <DateTypeProvider for={dateFields.map((x) => x.value)} />\n          <Table />\n          <TableColumnVisibility\n            defaultHiddenColumnNames={[\"Age_In_Minutes\"]}\n          />\n          <TableHeaderRow showSortingControls />\n          <PagingPanel />\n          <TableRowDetail contentComponent={RowDetail} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport IncidentManager from \"./IncidentManager.js\";\n\nimport \"./styles.css\";\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(\n  <div>\n    <nav class=\"navbar navbar-default\">\n      <div class=\"container-fluid\">\n        <a class=\"navbar-brand\" href=\"#\">\n          Incident Manager\n        </a>\n      </div>\n    </nav>\n    <IncidentManager />\n  </div>,\n  rootElement\n);\n"],"sourceRoot":""}