(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(23),l=n.n(i),s=n(75),o=n(16),r=n(45),u=n(85),j=n.n(u),b=n(86),d=n.n(b),f=n(84),O=n.n(f),p=n(76),h=n(40),m=n(190),x=n(39),v=n(13),g=n(41),S=(n(118),n(2));function _(e){var t="data/",n=Object(a.useState)([]),i=Object(o.a)(n,2),l=i[0],u=i[1],b=Object(a.useState)(null),f=Object(o.a)(b,2),_=f[0],C=f[1],D=Object(a.useState)(null),y=Object(o.a)(D,2),A=y[0],I=y[1],k=Object(a.useState)(null),w=Object(o.a)(k,2),L=w[0],R=w[1],M=Object(a.useState)(null),P=Object(o.a)(M,2),E=P[0],G=P[1],N=Object(a.useState)([]),T=Object(o.a)(N,2),H=T[0],V=T[1],W=Object(a.useState)([]),F=Object(o.a)(W,2),K=F[0],q=F[1],z=Object(a.useState)([]),J=Object(o.a)(z,2),Y=J[0],B=J[1],U=[{label:"Low",value:"3"},{label:"Medium",value:"2"},{label:"High",value:"1"},{label:"Critical",value:"0"}],Q=Object(a.useState)([{label:"Low",value:"3"},{label:"Medium",value:"2"},{label:"High",value:"1"},{label:"Critical",value:"0"}]),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)({WorkLog:[]}),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),ie=Object(o.a)(ce,2),le=ie[0],se=ie[1],oe=Object(a.useState)(!1),re=Object(o.a)(oe,2),ue=re[0],je=re[1],be=Object(a.useState)("disabled"),de=Object(o.a)(be,2),fe=de[0],Oe=de[1],pe=Object(a.useState)("disabled"),he=Object(o.a)(pe,2),me=he[0],xe=he[1],ve=Object(a.useState)("disabled"),ge=Object(o.a)(ve,2),Se=ge[0],_e=ge[1],Ce=Object(a.useState)("Submit_Date"),De=Object(o.a)(Ce,2),ye=De[0],Ae=De[1],Ie=Object(a.useState)(90),ke=Object(o.a)(Ie,2),we=ke[0],Le=ke[1],Re=Object(a.useState)(180),Me=Object(o.a)(Re,2),Pe=Me[0],Ee=Me[1],Ge=Object(a.useState)(240),Ne=Object(o.a)(Ge,2),Te=Ne[0],He=Ne[1],Ve=[{label:"Submit Date",value:"Submit_Date"},{label:"Last Modified",value:"Last_Modified_Date"},{label:"Last Resolved",value:"Last_Resolved_Date"},{label:"Reported Date",value:"Reported_Date"},{label:"Responded Date",value:"Responded_Date"},{label:"Closed Date",value:"Closed_Date"},{label:"Event Date",value:"Event_Date"},{label:"Required Resolution",value:"Required_Resolution_DateTime"},{label:"Estimated Resolution",value:"Estimated_Resolution_Date"},{label:"Acknowledgement Date",value:"Acknowledgment_Start_Date"},{label:"Resolution Start Date",value:"Resolution_Start_Date"},{label:"Last SLA Hold Date",value:"Last_SLA_Hold_Date"},{label:"VIP Assignment Date",value:"VIPAssignmentDateTime"},{label:"VIP Dispatch Date",value:"VIPDispatchDateTime"}],We=Object(a.useState)([{name:"Age_In_Minutes",title:"Age_In_Minutes"},{name:"Incident_Number",title:"Incident Number"},{name:"PriorityCode",title:"Priority"},{name:"Description",title:"Summary"},{name:"Submit_Date",title:"Submitted"},{name:"Last_Modified_Date",title:"Modified"},{name:"Assigned_Company_Group",title:"Company/Group"},{name:"Assignee",title:"Assignee"},{name:"ServiceCI",title:"ServiceCI"},{name:"StatusCode",title:"Status"},{name:"LastLog",title:"Last Log Entry"}]),Fe=Object(o.a)(We,2),Ke=Fe[0],qe=Fe[1],ze=Object(a.useState)([]),Je=Object(o.a)(ze,2),Ye=Je[0],Be=Je[1];c.a.useEffect((function(){_&&et(),_&&nt(),2===Z.length&&1===Z.filter((function(e){return"High"===e.label})).length&&1===Z.filter((function(e){return"Critical"===e.label})).length||se(!1)}),[_,L,H,Z]),c.a.useEffect((function(){tt()}),[_,L,Z]),c.a.useEffect((function(){$e()}),[]),c.a.useEffect((function(){qe(Ke.filter((function(e){return"Age"!==e.title}))),ue?qe([{getCellValue:Ue,title:"Age"}].concat(Ke)):se(!1)}),[ue]),c.a.useEffect((function(){"disabled"!==Se||"Submit_Date"===ye&&90===we&&180===Pe&&240===Te||se(!1)}),[Se]),c.a.useEffect((function(){le?($([{label:"High",value:"2"},{label:"Critical",value:"3"}]),Ae("Event_Date"),Le(90),Ee(180),He(240),je(!0),Ke.filter((function(e){return"Submitted"===e.title})).forEach((function(e){e.title="4-HR Start Date",e.name=ye})),C("All"),I("All"),R("All")):Ke.filter((function(e){return"4-HR Start Date"===e.title})).forEach((function(e){e.title="Submitted",e.name="Submit_date"}))}),[le]);var Ue=function(e){var t=p.a[500];-1!==e.Age_KPI.indexOf("green.gif")?t=h.a[500]:-1!==e.Age_KPI.indexOf("yellow.gif")?t=m.a[500]:-1!==e.Age_KPI.indexOf("red.gif")&&(t=x.a[500]);var n="";try{var a=parseInt(e.Age_In_Minutes),c=parseInt(we),i=parseInt(Pe),l=parseInt(Te);n=a>l?"Exceeded!":a>i?"-"+l-a:a<=c?"-"+c-a:"-"+i-a}catch(s){}return Object(S.jsxs)("div",{children:[Object(S.jsx)(O.a,{sx:{color:t}})," ",n]})},Qe=function(){return"StartDateField%3D".concat(ye,";DropOffField%3D").concat("Required_Resolution_DateTime",";GreenMaxAge%3D").concat(we,";YellowMaxAge%3D").concat(Pe,";RedMaxAge%3D").concat(Te)},Xe=function(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(e.value)},Ze=function(e){return Object(S.jsx)(v.b,Object(s.a)({formatterComponent:Xe},e))},$e=function(){fetch("".concat(t,"companies.json?opCode=GetCompanies"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){u([{label:"All",value:"All"}].concat(e.data))}))},et=function(){fetch("".concat(t,"groups.json?opCode=GetGroups&Company=").concat(_),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){q([{label:"All",value:"All"}].concat(e.data))}))},tt=function(){le?(B([{label:"CyberSecurity",value:"CyberSecurity"}]),V([{label:"CyberSecurity",value:"CyberSecurity"}])):fetch("".concat(t,"services.json?opCode=GetServices&Company=").concat(_,"&Org=").concat(E,"&GroupID=").concat(L,"&Priorities=").concat(U.map((function(e){return e.value})),"&Filter=&KpiParams=").concat(Qe()),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){B(e.data)}))},nt=function(){fetch("".concat(t,"incidents.json?opCode=GetIncidents&Company=").concat(_,"&Org=").concat(E,"&GroupID=").concat(L,"&Priorities=").concat(U.map((function(e){return e.value})),"&Services=").concat(Y.map((function(e){return e.value})),"&Filter=&KpiParams=").concat(Qe()),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Be(e.data)}))},at=function(){ue&&(_e("enabled"===Se?"disabled":"enabled"),Oe("enabled"===Se?"active":"selected"))};return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{class:"filter-container",children:Object(S.jsxs)("form",{children:[Object(S.jsxs)("label",{class:"label-nowrap",children:["Company:",Object(S.jsx)(r.a,{style:{minWidth:"140px"},onChange:function(e){R(null),V([]),C(e.value)},options:l,value:l.filter((function(e){return e.value===_}))})]}),Object(S.jsxs)("label",{children:["Group:",Object(S.jsx)(r.a,{style:{minWidth:"320px"},value:K.filter((function(e){return e.value===A})),onChange:function(e){I(e.value),-1!==e.value.indexOf("|")&&(G(e.value.split("|")[0]),R(e.value.split("|")[1]))},options:K,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value}})]}),Object(S.jsxs)("label",{children:["Services:",Object(S.jsx)(r.a,{style:{minWidth:"320px"},value:Y.filter((function(e){return H.some((function(t){return e.value===t.value}))})),onChange:function(e){se(!1),V((function(t){return e}))},options:Y,isMulti:!0})]}),Object(S.jsxs)("label",{children:["Priorities:",Object(S.jsx)(r.a,{style:{minWidth:"180px"},value:U.filter((function(e){return Z.some((function(t){return e.value===t.value}))})),onChange:function(e){$((function(t){return e}))},options:U,class:"form-check-input",isMulti:!0})]}),Object(S.jsxs)("div",{style:{paddingTop:10},children:[Object(S.jsx)("label",{children:Object(S.jsxs)("div",{class:"form-check form-switch",children:[Object(S.jsx)("input",{class:"form-check-input",type:"checkbox",checked:le,onChange:function(){return se(!le)}}),Object(S.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckDefault",children:"Show 4HR-Containment View"})]})}),Object(S.jsx)("label",{children:Object(S.jsxs)("div",{class:"form-check form-switch",children:[Object(S.jsx)("input",{class:"form-check-input",type:"checkbox",checked:ue,onChange:function(e){je(!ue),ue?(xe("disabled"),Oe("disabled"),_e("disabled")):(xe("primary"),Oe("active"))}}),Object(S.jsxs)("label",{onClick:at,class:"form-check-label age-kpi-btn-"+fe,for:"flexSwitchCheckDefault",children:["Show age indicators",Object(S.jsx)(j.a,{color:me}),Object(S.jsxs)("div",{onClick:function(e){return e.stopPropagation()},class:"age-kpi-options-"+Se,children:[Object(S.jsx)("span",{class:"close-icon",onClick:at,children:Object(S.jsx)(d.a,{fontSize:"small"})}),Object(S.jsxs)("div",{class:"label-nowrap",children:["Age field:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)(r.a,{onChange:function(e){return Ae(e.value)},options:Ve,value:Ve.filter((function(e){return e.value===ye}))})}),Object(S.jsx)("br",{}),"Green Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:we,onChange:function(e){return Le(e.value)},type:"text",class:"form-control"})}),Object(S.jsx)("br",{}),"Yellow Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Pe,onChange:function(e){return Ee(e.value)},type:"text",class:"form-control"})}),Object(S.jsx)("br",{}),"Red Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Te,onChange:function(e){return He(e.value)},type:"text",class:"form-control"})})]}),Object(S.jsx)("span",{class:"footer",children:"* in minutes"})]})]})]})})]})]})}),Object(S.jsx)("div",{class:"grid",children:Object(S.jsxs)(g.a,{rows:Ye,columns:Ke,children:[Object(S.jsx)(v.l,{defaultCurrentPage:0,pageSize:20}),Object(S.jsx)(v.i,{}),Object(S.jsx)(v.p,{defaultSorting:[{columnName:"Name",direction:"asc"}]}),Object(S.jsx)(v.j,{}),Object(S.jsx)(v.m,{}),Object(S.jsx)(v.o,{defaultValue:""}),Object(S.jsx)(v.h,{}),Object(S.jsx)(Ze,{for:Ve.map((function(e){return e.value}))}),Object(S.jsx)(g.c,{}),Object(S.jsx)(g.d,{defaultHiddenColumnNames:["Age_In_Minutes"]}),Object(S.jsx)(g.e,{showSortingControls:!0}),Object(S.jsx)(g.b,{}),Object(S.jsx)(g.f,{contentComponent:function(e){var n=e.row;return null!=ne.Incident_Number&&ne.Incident_Number==n.Incident_Number||fetch("".concat(t,"incident.json?opCode=GetIncident&IncidentNumber=").concat(n.Incident_Number),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){e.data.Incident_Number=n.Incident_Number,ae(e.data)})),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Summary:"}),Object(S.jsx)("br",{}),ne.Description]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Priority:"}),Object(S.jsx)("br",{}),ne.PriorityCode]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Notes:"}),Object(S.jsx)("br",{}),ne.Detailed_Decription]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Customer/Office:"}),Object(S.jsx)("br",{}),ne.First_Name," ",ne.Last_Name," /"," ",ne.Department]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Status:"}),Object(S.jsx)("br",{}),ne.StatusCode]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Assigned Group:"}),Object(S.jsx)("br",{}),ne.Assigned_Group]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Log Entries:"}),Object(S.jsx)("br",{}),ne.WorkLog.map((function(e,t){return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{class:"worklog-header",children:[Xe(e.Work_Log_Submit_Date)," /"," ",e.Work_Log_Submitter]}),Object(S.jsx)("div",{class:"worklog-body",children:e.Detailed_Description})]})}))]})]})}})]})})]})}n(132);var C=document.getElementById("root");l.a.render(Object(S.jsxs)("div",{children:[Object(S.jsx)("nav",{class:"navbar navbar-default",children:Object(S.jsx)("div",{class:"container-fluid",children:Object(S.jsx)("a",{class:"navbar-brand",href:"#",children:"Incident Manager"})})}),Object(S.jsx)(_,{})]}),C)}},[[134,1,2]]]);
//# sourceMappingURL=main.c0ede39c.chunk.js.map