(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(24),i=n.n(l),s=n(75),o=n(16),r=n(45),u=n(85),d=n.n(u),j=n(86),b=n.n(j),f=n(84),O=n.n(f),p=n(76),h=n(40),v=n(190),m=n(39),x=n(13),g=n(41),S=(n(118),n(2));function D(e){var t="data/",n=Object(a.useState)([]),l=Object(o.a)(n,2),i=l[0],u=l[1],j=Object(a.useState)(null),f=Object(o.a)(j,2),D=f[0],_=f[1],C=Object(a.useState)(null),y=Object(o.a)(C,2),A=y[0],I=y[1],w=Object(a.useState)(null),k=Object(o.a)(w,2),L=k[0],R=k[1],N=Object(a.useState)(null),E=Object(o.a)(N,2),M=E[0],P=E[1],G=Object(a.useState)([]),T=Object(o.a)(G,2),H=T[0],V=T[1],F=Object(a.useState)([]),K=Object(o.a)(F,2),W=K[0],q=K[1],z=Object(a.useState)([]),B=Object(o.a)(z,2),J=B[0],Y=B[1],U=[{label:"Low",value:"3"},{label:"Medium",value:"2"},{label:"High",value:"1"},{label:"Critical",value:"0"}],Q=Object(a.useState)([{label:"Low",value:"3"},{label:"Medium",value:"2"},{label:"High",value:"1"},{label:"Critical",value:"0"}]),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(null),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)([]),le=Object(o.a)(ce,2),ie=(le[0],le[1],Object(a.useState)(!1)),se=Object(o.a)(ie,2),oe=se[0],re=se[1],ue=Object(a.useState)(!1),de=Object(o.a)(ue,2),je=de[0],be=de[1],fe=Object(a.useState)("disabled"),Oe=Object(o.a)(fe,2),pe=Oe[0],he=Oe[1],ve=Object(a.useState)("disabled"),me=Object(o.a)(ve,2),xe=me[0],ge=me[1],Se=Object(a.useState)("disabled"),De=Object(o.a)(Se,2),_e=De[0],Ce=De[1],ye=Object(a.useState)("Submit_Date"),Ae=Object(o.a)(ye,2),Ie=Ae[0],we=Ae[1],ke=Object(a.useState)(90),Le=Object(o.a)(ke,2),Re=Le[0],Ne=Le[1],Ee=Object(a.useState)(180),Me=Object(o.a)(Ee,2),Pe=Me[0],Ge=Me[1],Te=Object(a.useState)(240),He=Object(o.a)(Te,2),Ve=He[0],Fe=He[1],Ke=[{label:"Submit Date",value:"Submit_Date"},{label:"Last Modified",value:"Last_Modified_Date"},{label:"Last Resolved",value:"Last_Resolved_Date"},{label:"Reported Date",value:"Reported_Date"},{label:"Responded Date",value:"Responded_Date"},{label:"Closed Date",value:"Closed_Date"},{label:"Event Date",value:"Event_Date"},{label:"Required Resolution",value:"Required_Resolution_DateTime"},{label:"Estimated Resolution",value:"Estimated_Resolution_Date"},{label:"Acknowledgement Date",value:"Acknowledgment_Start_Date"},{label:"Resolution Start Date",value:"Resolution_Start_Date"},{label:"Last SLA Hold Date",value:"Last_SLA_Hold_Date"},{label:"VIP Assignment Date",value:"VIPAssignmentDateTime"},{label:"VIP Dispatch Date",value:"VIPDispatchDateTime"}],We=Object(a.useState)([{name:"Age_In_Minutes",title:"Age_In_Minutes"},{name:"Incident_Number",title:"Incident Number"},{name:"PriorityCode",title:"Priority"},{name:"Description",title:"Summary"},{name:"Submit_Date",title:"Submitted"},{name:"Last_Modified_Date",title:"Modified"},{name:"Assigned_Company_Group",title:"Company/Group"},{name:"Assignee",title:"Assignee"},{name:"ServiceCI",title:"ServiceCI"},{name:"StatusCode",title:"Status"},{name:"LastLog",title:"Last Log Entry"}]),qe=Object(o.a)(We,2),ze=qe[0],Be=qe[1],Je=Object(a.useState)([]),Ye=Object(o.a)(Je,2),Ue=Ye[0],Qe=Ye[1],Xe=Object(a.useState)([]),Ze=Object(o.a)(Xe,2),$e=Ze[0],et=Ze[1];c.a.useEffect((function(){ae(null),D&&st(),D&&rt(),2===Z.length&&1===Z.filter((function(e){return"High"===e.label})).length&&1===Z.filter((function(e){return"Critical"===e.label})).length||re(!1)}),[D,L,H,Z]),c.a.useEffect((function(){ot()}),[D,L,Z]),c.a.useEffect((function(){it()}),[]),c.a.useEffect((function(){ae(null),tt()}),[je]),c.a.useEffect((function(){ae(null),je&&(rt(),be(!1),window.setTimeout((function(){be(!0)}),1))}),[Re,Pe,Ve,Ie]);var tt=function(){Be(ze.filter((function(e){return"Age"!==e.title}))),je?Be([{getCellValue:nt,title:"Age"}].concat(ze)):re(!1)};c.a.useEffect((function(){ae(null),"disabled"!==_e||"Submit_Date"===Ie&&90===Re&&180===Pe&&240===Ve||re(!1)}),[_e]),c.a.useEffect((function(){ae(null),oe?($([{label:"High",value:"2"},{label:"Critical",value:"3"}]),we("Event_Date"),Ne(90),Ge(180),Fe(240),be(!0),ze.filter((function(e){return"Submitted"===e.title})).forEach((function(e){e.title="4-HR Start Date",e.name=Ie})),_("All"),I("All"),R("All")):ze.filter((function(e){return"4-HR Start Date"===e.title})).forEach((function(e){e.title="Submitted",e.name="Submit_date"}))}),[oe]);var nt=function(e){var t=p.a[500];-1!==e.Age_KPI.indexOf("green.gif")?t=h.a[500]:-1!==e.Age_KPI.indexOf("yellow.gif")?t=v.a[500]:-1!==e.Age_KPI.indexOf("red.gif")&&(t=m.a[500]);var n="";try{var a=parseInt(e.Age_In_Minutes),c=parseInt(Re),l=parseInt(Pe),i=parseInt(Ve);n=a>i?"Exceeded!":a>l?"-"+(i-a):a>c?"-"+(l-a):"-"+(c-a)}catch(s){}return Object(S.jsxs)("div",{children:[Object(S.jsx)(O.a,{sx:{color:t}})," ",n]})},at=function(){return"StartDateField%3D".concat(Ie,";DropOffField%3D").concat("Required_Resolution_DateTime",";GreenMaxAge%3D").concat(Re,";YellowMaxAge%3D").concat(Pe,";RedMaxAge%3D").concat(Ve)},ct=function(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(e.value)},lt=function(e){return Object(S.jsx)(x.b,Object(s.a)({formatterComponent:ct},e))},it=function(){fetch("".concat(t,"companies.json?opCode=GetCompanies"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){u([{label:"All",value:"All"}].concat(e.data))}))},st=function(){fetch("".concat(t,"groups.json?opCode=GetGroups&Company=").concat(D),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){q([{label:"All",value:"All|All"}].concat(e.data))}))},ot=function(){oe?(Y([{label:"CyberSecurity",value:"CyberSecurity"}]),V([{label:"CyberSecurity",value:"CyberSecurity"}])):fetch("".concat(t,"services.json?opCode=GetServices&Company=").concat(D,"&Org=").concat(M,"&GroupID=").concat(L,"&Priorities=").concat(U.map((function(e){return e.value})),"&Filter=&KpiParams=").concat(at()),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Y(e.data)}))},rt=function(){fetch("".concat(t,"incidents.json?opCode=GetIncidents&Company=").concat(D,"&Org=").concat(M,"&GroupID=").concat(L,"&Priorities=").concat(U.map((function(e){return e.value})),"&Services=").concat(J.map((function(e){return e.value})),"&Filter=&KpiParams=").concat(at()),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Qe(e.data)}))},ut=function(){je&&(Ce("enabled"===_e?"disabled":"enabled"),he("enabled"===_e?"active":"selected")),"enabled"===_e&&rt()};c.a.useEffect((function(){var e=Ue,n=e.findIndex((function(e){return e.Incident_Number===ne})),a=e[n];console.log("test"),null!=ne&&n>-1&&"Loading..."===a.rowDetail&&fetch("".concat(t,"incident.json?opCode=GetIncident&IncidentNumber=").concat(ne),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){var c;a.rowDetail=Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("div",{className:"col-7",children:[Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Summary:"}),Object(S.jsx)("br",{}),t.data.Description]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Priority:"}),Object(S.jsx)("br",{}),t.data.PriorityCode]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Notes:"}),Object(S.jsx)("br",{}),t.data.Detailed_Decription]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Customer/Office:"}),Object(S.jsx)("br",{}),t.data.First_Name," ",t.data.Last_Name," /"," ",t.data.Department]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Status:"}),Object(S.jsx)("br",{}),t.data.StatusCode]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Assigned Group:"}),Object(S.jsx)("br",{}),t.data.Assigned_Group]})]}),Object(S.jsx)("div",{className:"col-5",style:{maxWidth:400,overflow:"scroll-y",borderLeft:"1px solid #ced4da"},children:Object(S.jsx)("div",{children:null===(c=t.data.WorkLog)||void 0===c?void 0:c.map((function(e,t){return Object(S.jsxs)("div",{className:"detail-field",style:{borderBottom:"1px solid #ced4da"},children:[Object(S.jsxs)("div",{class:"worklog-header",children:[Object(S.jsx)("strong",{children:ct(e.Work_Log_Submit_Date)})," ",e.Work_Log_Submitter]}),Object(S.jsx)("div",{class:"worklog-body",children:e.Detailed_Description})]})}))})})]}),e[n]=a,Qe([]),Qe(e)}))}),[ne,Ue]);return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{class:"filter-container",children:Object(S.jsxs)("form",{children:[Object(S.jsxs)("label",{class:"label-nowrap",children:["Company:",Object(S.jsx)(r.a,{className:"companySel",onChange:function(e){R(null),V([]),_(e.value)},options:i,value:i.filter((function(e){return e.value===D}))})]}),Object(S.jsxs)("label",{children:["Group:",Object(S.jsx)(r.a,{className:"groupSel",value:W.filter((function(e){return e.value===A})),onChange:function(e){I(e.value),-1!==e.value.indexOf("|")&&(P(e.value.split("|")[0]),R(e.value.split("|")[1]))},options:W,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value}})]}),Object(S.jsxs)("label",{children:["Services:",Object(S.jsx)(r.a,{className:"servicesSel",value:J.filter((function(e){return H.some((function(t){return e.value===t.value}))})),onChange:function(e){re(!1),V((function(t){return e}))},options:J,isMulti:!0})]}),Object(S.jsxs)("label",{children:["Priorities:",Object(S.jsx)(r.a,{value:U.filter((function(e){return Z.some((function(t){return e.value===t.value}))})),onChange:function(e){$((function(t){return e}))},options:U,class:"form-check-input",isMulti:!0})]}),Object(S.jsxs)("div",{style:{paddingTop:10},children:[Object(S.jsx)("label",{children:Object(S.jsxs)("div",{class:"form-check form-switch",children:[Object(S.jsx)("input",{class:"form-check-input",type:"checkbox",checked:oe,onChange:function(){return re(!oe)}}),Object(S.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckDefault",children:"Show 4HR-Containment View"})]})}),Object(S.jsx)("label",{children:Object(S.jsxs)("div",{class:"form-check form-switch",children:[Object(S.jsx)("input",{class:"form-check-input",type:"checkbox",checked:je,onChange:function(e){be(!je),je?(ge("disabled"),he("disabled"),Ce("disabled")):(ge("primary"),he("active"))}}),Object(S.jsxs)("label",{onClick:ut,class:"form-check-label age-kpi-btn-"+pe,for:"flexSwitchCheckDefault",children:["Show age indicators",Object(S.jsx)(d.a,{color:xe}),Object(S.jsxs)("div",{onClick:function(e){return e.stopPropagation()},class:"age-kpi-options-"+_e,children:[Object(S.jsx)("span",{class:"close-icon",onClick:ut,children:Object(S.jsx)(b.a,{fontSize:"small"})}),Object(S.jsxs)("div",{class:"label-nowrap",children:["Age field:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)(r.a,{onChange:function(e){return we(e.value)},options:Ke,value:Ke.filter((function(e){return e.value===Ie}))})}),Object(S.jsx)("br",{}),"Green Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Re,onInput:function(e){return Ne(e.target.value)},type:"text",class:"form-control"})}),Object(S.jsx)("br",{}),"Yellow Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Pe,onInput:function(e){return Ge(e.target.value)},type:"text",class:"form-control"})}),Object(S.jsx)("br",{}),"Red Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Ve,onInput:function(e){return Fe(e.target.value)},type:"text",class:"form-control"})})]}),Object(S.jsx)("span",{class:"footer",children:"* in minutes"})]})]})]})})]})]})}),Object(S.jsx)("div",{class:"grid",children:Object(S.jsxs)(g.a,{rows:Ue,columns:ze,children:[Object(S.jsx)(x.l,{defaultCurrentPage:0,pageSize:20}),Object(S.jsx)(x.i,{}),Object(S.jsx)(x.p,{defaultSorting:[{columnName:"Name",direction:"asc"}]}),Object(S.jsx)(x.j,{}),Object(S.jsx)(x.m,{expandedRowIds:$e,onExpandedRowIdsChange:et}),Object(S.jsx)(x.o,{defaultValue:""}),Object(S.jsx)(x.h,{}),Object(S.jsx)(lt,{for:Ke.map((function(e){return e.value}))}),Object(S.jsx)(g.c,{}),Object(S.jsx)(g.d,{defaultHiddenColumnNames:["Age_In_Minutes"]}),Object(S.jsx)(g.e,{showSortingControls:!0}),Object(S.jsx)(g.b,{}),Object(S.jsx)(g.f,{contentComponent:function(e){var t=e.row;ae(t.Incident_Number);var n=Ue.findIndex((function(e){return e.Incident_Number===t.Incident_Number})),a=Ue,c=a[n];return c.rowDetail||(c.rowDetail="Loading...",a[n]=c,Qe(a)),Ue[n].rowDetail}})]})})]})}n(132);var _=document.getElementById("root");i.a.render(Object(S.jsxs)("div",{children:[Object(S.jsx)("nav",{class:"navbar navbar-default",children:Object(S.jsx)("div",{class:"container-fluid",children:Object(S.jsx)("a",{class:"navbar-brand",href:"#",children:"Incident Manager"})})}),Object(S.jsx)(D,{})]}),_)}},[[134,1,2]]]);
//# sourceMappingURL=main.73c72b53.chunk.js.map