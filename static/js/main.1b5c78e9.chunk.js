(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(23),l=n.n(i),s=n(75),o=n(16),r=n(45),u=n(85),j=n.n(u),b=n(86),d=n.n(b),f=n(84),O=n.n(f),p=n(76),h=n(40),v=n(190),x=n(39),m=n(13),g=n(41),S=(n(118),n(2));function C(e){var t="data/",n=Object(a.useState)([]),i=Object(o.a)(n,2),l=i[0],u=i[1],b=Object(a.useState)(null),f=Object(o.a)(b,2),C=f[0],D=(f[1],Object(a.useState)(null)),_=Object(o.a)(D,2),y=_[0],A=_[1],I=Object(a.useState)(null),k=Object(o.a)(I,2),w=k[0],L=k[1],R=Object(a.useState)(null),M=Object(o.a)(R,2),P=M[0],E=M[1],G=Object(a.useState)([]),T=Object(o.a)(G,2),H=T[0],N=T[1],V=Object(a.useState)([]),F=Object(o.a)(V,2),K=F[0],W=F[1],q=Object(a.useState)([]),z=Object(o.a)(q,2),J=z[0],Y=z[1],B=[{label:"Low",value:"3"},{label:"Medium",value:"2"},{label:"High",value:"1"},{label:"Critical",value:"0"}],U=Object(a.useState)([{label:"Low",value:"3"},{label:"Medium",value:"2"},{label:"High",value:"1"},{label:"Critical",value:"0"}]),Q=Object(o.a)(U,2),X=Q[0],Z=Q[1],$=Object(a.useState)({WorkLog:[]}),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),ce=Object(o.a)(ae,2),ie=ce[0],le=ce[1],se=Object(a.useState)(!1),oe=Object(o.a)(se,2),re=oe[0],ue=oe[1],je=Object(a.useState)("disabled"),be=Object(o.a)(je,2),de=be[0],fe=be[1],Oe=Object(a.useState)("disabled"),pe=Object(o.a)(Oe,2),he=pe[0],ve=pe[1],xe=Object(a.useState)("disabled"),me=Object(o.a)(xe,2),ge=me[0],Se=me[1],Ce=Object(a.useState)("Submit_Date"),De=Object(o.a)(Ce,2),_e=De[0],ye=De[1],Ae=Object(a.useState)(90),Ie=Object(o.a)(Ae,2),ke=Ie[0],we=Ie[1],Le=Object(a.useState)(180),Re=Object(o.a)(Le,2),Me=Re[0],Pe=Re[1],Ee=Object(a.useState)(240),Ge=Object(o.a)(Ee,2),Te=Ge[0],He=Ge[1],Ne=[{label:"Submit Date",value:"Submit_Date"},{label:"Last Modified",value:"Last_Modified_Date"},{label:"Last Resolved",value:"Last_Resolved_Date"},{label:"Reported Date",value:"Reported_Date"},{label:"Responded Date",value:"Responded_Date"},{label:"Closed Date",value:"Closed_Date"},{label:"Event Date",value:"Event_Date"},{label:"Required Resolution",value:"Required_Resolution_DateTime"},{label:"Estimated Resolution",value:"Estimated_Resolution_Date"},{label:"Acknowledgement Date",value:"Acknowledgment_Start_Date"},{label:"Resolution Start Date",value:"Resolution_Start_Date"},{label:"Last SLA Hold Date",value:"Last_SLA_Hold_Date"},{label:"VIP Assignment Date",value:"VIPAssignmentDateTime"},{label:"VIP Dispatch Date",value:"VIPDispatchDateTime"}],Ve=Object(a.useState)([{name:"Age_In_Minutes",title:"Age_In_Minutes"},{name:"Incident_Number",title:"Incident Number"},{name:"PriorityCode",title:"Priority"},{name:"Description",title:"Summary"},{name:"Submit_Date",title:"Submitted"},{name:"Last_Modified_Date",title:"Modified"},{name:"Assigned_Company_Group",title:"Company/Group"},{name:"Assignee",title:"Assignee"},{name:"ServiceCI",title:"ServiceCI"},{name:"StatusCode",title:"Status"},{name:"LastLog",title:"Last Log Entry"}]),Fe=Object(o.a)(Ve,2),Ke=Fe[0],We=Fe[1],qe=Object(a.useState)([]),ze=Object(o.a)(qe,2),Je=ze[0],Ye=ze[1];c.a.useEffect((function(){C&&$e(),C&&tt(),2===X.length&&1===X.filter((function(e){return"High"===e.label})).length&&1===X.filter((function(e){return"Critical"===e.label})).length||le(!1)}),[C,w,H,X]),c.a.useEffect((function(){et()}),[C,w,X]),c.a.useEffect((function(){Ze()}),[]),c.a.useEffect((function(){We(Ke.filter((function(e){return"Age"!==e.title}))),re?We([{getCellValue:Be,title:"Age"}].concat(Ke)):le(!1)}),[re]),c.a.useEffect((function(){"disabled"!==ge||"Submit_Date"===_e&&90===ke&&180===Me&&240===Te||le(!1)}),[ge]),c.a.useEffect((function(){ie?(Z([{label:"High",value:"2"},{label:"Critical",value:"3"}]),ye("Event_Date"),we(90),Pe(180),He(240),ue(!0),Ke.filter((function(e){return"Submitted"===e.title})).forEach((function(e){e.title="4-HR Start Date",e.name=_e})),setCompanyID("All"),A("All"),L("All")):Ke.filter((function(e){return"4-HR Start Date"===e.title})).forEach((function(e){e.title="Submitted",e.name="Submit_date"}))}),[ie]);var Be=function(e){var t=p.a[500];-1!==e.Age_KPI.indexOf("green.gif")?t=h.a[500]:-1!==e.Age_KPI.indexOf("yellow.gif")?t=v.a[500]:-1!==e.Age_KPI.indexOf("red.gif")&&(t=x.a[500]);var n="";try{var a=parseInt(e.Age_In_Minutes),c=parseInt(ke),i=parseInt(Me),l=parseInt(Te);n=a>l?"Exceeded!":a>i?"-"+l-a:a<=c?"-"+c-a:"-"+i-a}catch(s){}return Object(S.jsxs)("div",{children:[Object(S.jsx)(O.a,{sx:{color:t}})," ",n]})},Ue=function(){return"StartDateField%3D".concat(_e,";DropOffField%3D").concat("Required_Resolution_DateTime",";GreenMaxAge%3D").concat(ke,";YellowMaxAge%3D").concat(Me,";RedMaxAge%3D").concat(Te)},Qe=function(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(e.value)},Xe=function(e){return Object(S.jsx)(m.b,Object(s.a)({formatterComponent:Qe},e))},Ze=function(){fetch("".concat(t,"companies.json?opCode=GetCompanies"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){u([{label:"All",value:"All"}].concat(e.data))}))},$e=function(){fetch("".concat(t,"groups.json?opCode=GetGroups&CompanyID=").concat(C),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){W([{label:"All",value:"All"}].concat(e.data))}))},et=function(){ie?(Y([{label:"CyberSecurity",value:"CyberSecurity"}]),N([{label:"CyberSecurity",value:"CyberSecurity"}])):fetch("".concat(t,"services.json?opCode=GetServices&Company=").concat(C,"&Org=").concat(P,"&GroupID=").concat(w,"&Priorities=").concat(B.map((function(e){return e.value})),"&Filter=&KpiParams=").concat(Ue()),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Y(e.data)}))},tt=function(){fetch("".concat(t,"incidents.json?opCode=GetIncidents&Company=").concat(C,"&Org=").concat(P,"&GroupID=").concat(w,"&Priorities=").concat(B.map((function(e){return e.value})),"&Services=").concat(J.map((function(e){return e.value})),"&Filter=&KpiParams=").concat(Ue()),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Ye(e.data)}))},nt=function(){re&&(Se("enabled"===ge?"disabled":"enabled"),fe("enabled"===ge?"active":"selected"))};return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{class:"filter-container",children:Object(S.jsxs)("form",{children:[Object(S.jsxs)("label",{class:"label-nowrap",children:["Company:",Object(S.jsx)(r.a,{onChange:function(e){L(null),N([]),setCompanyID(e.value)},options:l,value:l.filter((function(e){return e.value===C}))})]}),Object(S.jsxs)("label",{children:["Group:",Object(S.jsx)(r.a,{value:K.filter((function(e){return e.value===y})),onChange:function(e){A(e.value),-1!==e.value.indexOf("|")&&(E(e.value.split("|")[0]),L(e.value.split("|")[1]))},options:K,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value}})]}),Object(S.jsxs)("label",{children:["Services:",Object(S.jsx)(r.a,{value:J.filter((function(e){return H.some((function(t){return e.value===t.value}))})),onChange:function(e){le(!1),N((function(t){return e}))},options:J,isMulti:!0})]}),Object(S.jsxs)("label",{children:["Priorities:",Object(S.jsx)(r.a,{value:B.filter((function(e){return X.some((function(t){return e.value===t.value}))})),onChange:function(e){Z((function(t){return e}))},options:B,class:"form-check-input",isMulti:!0})]}),Object(S.jsxs)("div",{style:{paddingTop:10},children:[Object(S.jsx)("label",{children:Object(S.jsxs)("div",{class:"form-check form-switch",children:[Object(S.jsx)("input",{class:"form-check-input",type:"checkbox",checked:ie,onChange:function(){return le(!ie)}}),Object(S.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckDefault",children:"Show 4HR-Containment View"})]})}),Object(S.jsx)("label",{children:Object(S.jsxs)("div",{class:"form-check form-switch",children:[Object(S.jsx)("input",{class:"form-check-input",type:"checkbox",checked:re,onChange:function(e){ue(!re),re?(ve("disabled"),fe("disabled"),Se("disabled")):(ve("primary"),fe("active"))}}),Object(S.jsxs)("label",{onClick:nt,class:"form-check-label age-kpi-btn-"+de,for:"flexSwitchCheckDefault",children:["Show age indicators",Object(S.jsx)(j.a,{color:he}),Object(S.jsxs)("div",{onClick:function(e){return e.stopPropagation()},class:"age-kpi-options-"+ge,children:[Object(S.jsx)("span",{class:"close-icon",onClick:nt,children:Object(S.jsx)(d.a,{fontSize:"small"})}),Object(S.jsxs)("div",{class:"label-nowrap",children:["Age field:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)(r.a,{onChange:function(e){return ye(e.value)},options:Ne,value:Ne.filter((function(e){return e.value===_e}))})}),Object(S.jsx)("br",{}),"Green Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:ke,onChange:function(e){return we(e.value)},type:"text",class:"form-control"})}),Object(S.jsx)("br",{}),"Yellow Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Me,onChange:function(e){return Pe(e.value)},type:"text",class:"form-control"})}),Object(S.jsx)("br",{}),"Red Max Age:\xa0",Object(S.jsx)("label",{children:Object(S.jsx)("input",{value:Te,onChange:function(e){return He(e.value)},type:"text",class:"form-control"})})]}),Object(S.jsx)("span",{class:"footer",children:"* in minutes"})]})]})]})})]})]})}),Object(S.jsx)("div",{class:"grid",children:Object(S.jsxs)(g.a,{rows:Je,columns:Ke,children:[Object(S.jsx)(m.l,{defaultCurrentPage:0,pageSize:20}),Object(S.jsx)(m.i,{}),Object(S.jsx)(m.p,{defaultSorting:[{columnName:"Name",direction:"asc"}]}),Object(S.jsx)(m.j,{}),Object(S.jsx)(m.m,{}),Object(S.jsx)(m.o,{defaultValue:""}),Object(S.jsx)(m.h,{}),Object(S.jsx)(Xe,{for:Ne.map((function(e){return e.value}))}),Object(S.jsx)(g.c,{}),Object(S.jsx)(g.d,{defaultHiddenColumnNames:["Age_In_Minutes"]}),Object(S.jsx)(g.e,{showSortingControls:!0}),Object(S.jsx)(g.b,{}),Object(S.jsx)(g.f,{contentComponent:function(e){var n=e.row;return fetch("".concat(t,"incident.json?IncidentNumber=").concat(n.Incident_Number),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){ne(e.data)})),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Summary:"}),Object(S.jsx)("br",{}),te.Description]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Priority:"}),Object(S.jsx)("br",{}),te.PriorityCode]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Notes:"}),Object(S.jsx)("br",{}),te.Detailed_Decription]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Customer/Office:"}),Object(S.jsx)("br",{}),te.First_Name," ",te.Last_Name," /"," ",te.Department]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Status:"}),Object(S.jsx)("br",{}),te.StatusCode]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Assigned Group:"}),Object(S.jsx)("br",{}),te.Assigned_Group]}),Object(S.jsxs)("div",{class:"detail-field",children:[Object(S.jsx)("strong",{children:"Log Entries:"}),Object(S.jsx)("br",{}),te.WorkLog.map((function(e,t){return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{class:"worklog-header",children:[Qe(e.Work_Log_Submit_Date)," /"," ",e.Work_Log_Submitter]}),Object(S.jsx)("div",{class:"worklog-body",children:e.Detailed_Description})]})}))]})]})}})]})})]})}n(132);var D=document.getElementById("root");l.a.render(Object(S.jsxs)("div",{children:[Object(S.jsx)("nav",{class:"navbar navbar-default",children:Object(S.jsx)("div",{class:"container-fluid",children:Object(S.jsx)("a",{class:"navbar-brand",href:"#",children:"Incident Manager"})})}),Object(S.jsx)(C,{})]}),D)}},[[134,1,2]]]);
//# sourceMappingURL=main.1b5c78e9.chunk.js.map